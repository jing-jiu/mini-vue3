{"code":"import { isObject } from \"@vue/shared\";\r\nimport { mutableHandlers, shallowReactiveHandlers, readonlyHandlers, shallowReadonlyHandlers } from \"./baseHandlers\";\r\nexport function reactive(target) {\r\n    return createReactiveObject(target, false, mutableHandlers);\r\n}\r\nexport function shallowReactive(target) {\r\n    return createReactiveObject(target, false, shallowReactiveHandlers);\r\n}\r\nexport function readonly(target) {\r\n    return createReactiveObject(target, true, readonlyHandlers);\r\n}\r\nexport function shallowReadonly(target) {\r\n    return createReactiveObject(target, true, shallowReadonlyHandlers);\r\n}\r\n// 是不是只读 是不是深度----> 柯里化\r\n// 一个对象可能被多个代理  深度代理 + 仅读代理\r\nconst reactiveMap = new WeakMap();\r\nconst readonlyMap = new WeakMap();\r\n/**\r\n *\r\n * @param target 拦截的目标\r\n * @param isReadonly 是不是仅读属性\r\n * @param baseHandlers 对应的拦截函数\r\n */\r\nexport function createReactiveObject(target, isReadonly, baseHandlers) {\r\n    if (!isObject(target)) {\r\n        return target;\r\n    }\r\n    // 被代理过了就不需要再次代理\r\n    const proxyMap = isReadonly ? readonlyMap : reactiveMap;\r\n    const exisitProxy = proxyMap.get(target);\r\n    if (exisitProxy) {\r\n        return exisitProxy;\r\n    }\r\n    const proxy = new Proxy(target, baseHandlers);\r\n    proxyMap.set(target, proxy);\r\n    return proxy;\r\n}\r\n//# sourceMappingURL=reactive.js.map","references":["C:/Users/惠新浩/Desktop/Task/Web/Vue/手写vue/vue3/packages/shared/src/index.ts","C:/Users/惠新浩/Desktop/Task/Web/Vue/手写vue/vue3/packages/reactivity/src/baseHandlers.ts"],"map":"{\"version\":3,\"file\":\"reactive.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../packages/reactivity/src/reactive.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAA;AACtC,OAAO,EACH,eAAe,EACf,uBAAuB,EACvB,gBAAgB,EAChB,uBAAuB,EAC1B,MAAM,gBAAgB,CAAA;AAIvB,MAAM,UAAU,QAAQ,CAAC,MAAM;IAC3B,OAAO,oBAAoB,CAAC,MAAM,EAAE,KAAK,EAAE,eAAe,CAAC,CAAA;AAC/D,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,MAAM;IAClC,OAAO,oBAAoB,CAAC,MAAM,EAAE,KAAK,EAAE,uBAAuB,CAAC,CAAA;AACvE,CAAC;AAED,MAAM,UAAU,QAAQ,CAAC,MAAM;IAC3B,OAAO,oBAAoB,CAAC,MAAM,EAAE,IAAI,EAAE,gBAAgB,CAAC,CAAA;AAC/D,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,MAAM;IAClC,OAAO,oBAAoB,CAAC,MAAM,EAAE,IAAI,EAAE,uBAAuB,CAAC,CAAA;AACtE,CAAC;AAED,uBAAuB;AAEvB,2BAA2B;AAC3B,MAAM,WAAW,GAAG,IAAI,OAAO,EAAE,CAAC;AAClC,MAAM,WAAW,GAAG,IAAI,OAAO,EAAE,CAAC;AAElC;;;;;GAKG;AACH,MAAM,UAAU,oBAAoB,CAAC,MAAM,EAAE,UAAmB,EAAE,YAAY;IAC1E,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;QACnB,OAAO,MAAM,CAAA;KAChB;IAED,gBAAgB;IAChB,MAAM,QAAQ,GAAG,UAAU,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAA;IAEvD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;IACxC,IAAI,WAAW,EAAE;QACb,OAAO,WAAW,CAAA;KACrB;IACD,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,YAAY,CAAC,CAAA;IAC7C,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;IAE3B,OAAO,KAAK,CAAA;AAChB,CAAC\"}"}
